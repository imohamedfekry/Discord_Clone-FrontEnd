/* ============================================
   THEME SYSTEM - Dark & Light Themes
   ============================================ */

/* Common Variables (shared between themes) */
:root {
    /* 
   * NEUTRAL PALETTE (Based on Discord's Design System)
   * Used as the foundation for semantic variables.
   */
    --neutral-50: #f8f9f9;
    --neutral-100: #f2f3f5;
    --neutral-150: #ebedef;
    --neutral-200: #e3e5e8;
    --neutral-250: #dbdee1;
    --neutral-300: #d1d3d6;
    --neutral-350: #c4c9ce;
    --neutral-400: #b5bac1;
    --neutral-450: #aeb2b8;
    --neutral-500: #949ba4;
    --neutral-550: #7e848c;
    --neutral-600: #5c5e66;
    --neutral-650: #4e5058;
    --neutral-700: #41434a;
    --neutral-750: #36373d;
    --neutral-800: #313338;
    --neutral-850: #2b2d31;
    --neutral-900: #1e1f22;
    --neutral-950: #111214;

    /* Brand Colors */
    --bg-brand: hsl(235, 86%, 65%);
    --status-success: hsl(145, 100%, 27%);
    --status-danger: hsl(356, 65%, 50%);
    --status-warning: hsl(37, 100%, 32%);

    /* Hover/Active adjustments */
    --hover-darken: 5%;
    --active-darken: 10%;

    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;

    /* Border Radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --radius-full: 9999px;

    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.15);
    --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.2);

    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;

    /* Modifiers (Opacity-based) */
    --modifier-hover: 0.08;
    --modifier-active: 0.16;
    --modifier-selected: 0.24;

    /* Dynamic Theming Base */
    --custom-theme-base-color: #000;
    --custom-theme-base-color-amount: 0%;
}

/* ============================================
   DARK THEME (Default)
   ============================================ */
:root,
[data-theme="dark"] {
    /* Background Colors - Using color-mix for dynamic tinting */
    --background: color-mix(in oklab, var(--neutral-800) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-base-lowest: color-mix(in oklab, var(--neutral-900) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-base-low: color-mix(in oklab, var(--neutral-900) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-secondary: color-mix(in oklab, var(--neutral-850) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-secondary-alt: color-mix(in oklab, var(--neutral-900) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-surface-high: color-mix(in oklab, var(--neutral-650) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-input: color-mix(in oklab, var(--neutral-900) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));

    --bg-input: var(--background-input);
    --bg-secondary: var(--background-secondary);

    --background-modifier-hover: hsla(240, 4%, 60%, 0.08);
    --background-modifier-active: hsla(240, 4%, 60%, 0.16);
    --background-modifier-selected: hsla(240, 4%, 60%, 0.24);
    --background-modifier-accent: hsla(235, 86%, 65%, 0.24);

    /* Text Colors */
    --text-primary: var(--neutral-100);
    --text-secondary: var(--neutral-350);
    --text-tertiary: var(--neutral-400);
    --text-muted: var(--neutral-500);
    --text-placeholder: var(--neutral-500);
    --text-default: var(--neutral-200);
    --text-low-contrast: var(--neutral-600);
    --text-brand: hsl(235, 86%, 65%);
    --foreground: var(--text-primary);

    /* Accent Colors */
    --accent-primary: hsl(235, 86%, 65%);
    --accent-primary-h: 235;
    --accent-primary-s: 86%;
    --accent-primary-l: 65%;
    --accent-hover: hsl(235, 86%, 60%);
    --accent-link: hsl(213, 81%, 62%);
    --accent-danger: hsl(356, 65%, 50%);
    --accent-danger-h: 356;
    --accent-danger-s: 65%;
    --accent-danger-l: 50%;

    /* Border Colors */
    --border-primary: var(--neutral-800);
    --border-normal: hsla(240, 4%, 60%, 0.2);
    --border-strong: hsla(240, 4%, 60%, 0.44);
    --border-faint: hsla(240, 4%, 60%, 0.04);
    --border-focus: hsl(235, 86%, 65%);

    /* Status Colors */
    --status-online: hsl(145, 100%, 27%);
    --status-idle: hsl(37, 100%, 32%);
    --status-dnd: hsl(356, 65%, 50%);
    --status-offline: hsl(240, 4%, 50%);

    /* Scrollbar */
    --scrollbar-thumb: var(--neutral-800);
    --scrollbar-track: transparent;

    /* Modal */
    --modal-background: hsla(240, 6%, 15%, 0.8);
    --modal-backdrop: hsla(0, 0%, 0%, 0.5);
}

/* ============================================
   LIGHT THEME
   ============================================ */
[data-theme="light"] {
    /* Background Colors */
    --background: color-mix(in oklab, #ffffff 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-base-lowest: color-mix(in oklab, var(--neutral-200) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-base-low: color-mix(in oklab, var(--neutral-100) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-secondary: color-mix(in oklab, var(--neutral-100) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-secondary-alt: color-mix(in oklab, var(--neutral-150) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-surface-high: color-mix(in oklab, var(--neutral-200) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));
    --background-input: color-mix(in oklab, var(--neutral-150) 100%, var(--custom-theme-base-color) var(--custom-theme-base-color-amount));

    --bg-input: var(--background-input);
    --bg-secondary: var(--background-secondary);

    --background-modifier-hover: hsla(240, 4%, 0%, 0.08);
    --background-modifier-active: hsla(240, 4%, 0%, 0.16);
    --background-modifier-selected: hsla(240, 4%, 0%, 0.24);
    --background-modifier-accent: hsla(235, 86%, 65%, 0.24);

    /* Text Colors */
    --text-primary: var(--neutral-800);
    --text-secondary: var(--neutral-650);
    --text-tertiary: var(--neutral-650);
    --text-muted: var(--neutral-600);
    --text-placeholder: var(--neutral-500);
    --text-default: var(--neutral-800);
    --text-low-contrast: var(--neutral-500);
    --text-brand: hsl(235, 86%, 65%);
    --foreground: var(--text-primary);

    /* Accent Colors */
    --accent-primary: hsl(235, 86%, 65%);
    --accent-primary-h: 235;
    --accent-primary-s: 86%;
    --accent-primary-l: 65%;
    --accent-hover: hsl(235, 86%, 70%);
    --accent-link: hsl(213, 81%, 55%);
    --accent-danger: hsl(356, 65%, 50%);
    --accent-danger-h: 356;
    --accent-danger-s: 65%;
    --accent-danger-l: 50%;

    /* Border Colors */
    --border-primary: var(--neutral-200);
    --border-normal: hsla(240, 4%, 60%, 0.3);
    --border-strong: hsla(240, 4%, 60%, 0.5);
    --border-faint: hsla(240, 4%, 60%, 0.1);
    --border-focus: hsl(235, 86%, 65%);

    /* Status Colors */
    --status-online: hsl(145, 100%, 27%);
    --status-idle: hsl(37, 100%, 32%);
    --status-dnd: hsl(356, 65%, 50%);
    --status-offline: hsl(240, 4%, 70%);

    /* Scrollbar */
    --scrollbar-thumb: var(--neutral-300);
    --scrollbar-track: transparent;

    /* Modal */
    --modal-background: hsla(0, 0%, 100%, 0.95);
    --modal-backdrop: hsla(0, 0%, 0%, 0.3);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
.modal-background {
    background-color: var(--modal-background);
    backdrop-filter: blur(8px);
}

/* Theme Transition */
* {
    transition: background-color var(--transition-base),
        color var(--transition-base),
        border-color var(--transition-base);
}

/* Disable transition for theme switching to prevent flash */
[data-theme-transitioning] * {
    transition: none !important;
}